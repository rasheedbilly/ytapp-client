{"ast":null,"code":"var _jsxFileName = \"/Users/Rasheed/WS/REPOS/full-mern-stack-video/client/src/pages/Home.js\";\nimport { useState } from 'react';\nimport \"./style.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  //https://www.youtube.com/watch?v=EwdsnGfrd-k&list=PL7RVBKKO9UqyEr8kqLe9152SIktQjDl64\n  var start = 1,\n      index = 0,\n      matches = [],\n      success = document.getElementById('success'),\n      failed = document.getElementById('failed'),\n      content = document.getElementById('content');\n\n  function load(url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState === 4) {\n        if (xhr.status === 200) {\n          callback(JSON.parse(xhr.responseText));\n        } else {\n          callback([{}]);\n        }\n      }\n    };\n\n    xhr.send();\n  }\n\n  function loadPage(id) {\n    index = 0;\n    matches = [];\n\n    if (!id) {\n      id = document.getElementById('id').value;\n    }\n\n    load('https://gdata.youtube.com/feeds/api/playlists/' + id + '?alt=jsonc&v=2&start-index=' + start + '&max-results=50', function (e) {\n      console.log('loadPage', e);\n\n      if (e.data) {\n        searchSpotify(e.data.items);\n      }\n    });\n  }\n\n  function searchSpotify(items) {\n    var name = items[index].video.title || [];\n    name = name.match(/[\\w']+/g).join(' ').replace(/official/ig, '').replace(/featuring/ig, '').replace(/feat/ig, '').replace(/video/ig, '').replace(/1080p/ig, '').replace(/music/ig, '');\n    load('http://ws.spotify.com/search/1/track.json?q=' + encodeURIComponent(name), function (e) {\n      if (e.tracks && e.tracks[0]) {\n        console.log('success', name, e); // success\n\n        matches.push(e.tracks[0]);\n        success.innerHTML += name + '<br/>';\n        content.innerHTML += e.tracks[0].href + '<br/>';\n      } else {\n        console.log('failt', name, e); // fail\n\n        failed.innerHTML += name + '<br/>';\n      }\n\n      if (index < items.length - 1) {\n        index += 1;\n        searchSpotify(items);\n      } else {\n        console.log(matches);\n        start += 50;\n        index = 0;\n        loadPage();\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"jumbotron text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Convert Youtube to Spotify!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      name: \"user-form\",\n      method: \"get\",\n      onSubmit: \"return validateSubmit()\",\n      action: \"Convert.js\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        for: \"yt-url\",\n        children: /*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Youtube URL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"yt-url\",\n        value: \"https://www.youtube.com/watch?v=EwdsnGfrd-k&list=PL7RVBKKO9UqyEr8kqLe9152SIktQjDl64\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        id: \"submit\",\n        value: \"Load\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Plan Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"Includes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Free\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Up to 25 songs to convert per submission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"$5.99/month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: \"Unlimited songs to convert per submission\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/Rasheed/WS/REPOS/full-mern-stack-video/client/src/pages/Home.js"],"names":["useState","App","start","index","matches","success","document","getElementById","failed","content","load","url","callback","xhr","XMLHttpRequest","open","onreadystatechange","readyState","status","JSON","parse","responseText","send","loadPage","id","value","e","console","log","data","searchSpotify","items","name","video","title","match","join","replace","encodeURIComponent","tracks","push","innerHTML","href","length"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport \"./style.css\"\n\nfunction App() {\n    //https://www.youtube.com/watch?v=EwdsnGfrd-k&list=PL7RVBKKO9UqyEr8kqLe9152SIktQjDl64\n    var start = 1,\n        index = 0,\n        matches = [],\n        success = document.getElementById('success'),\n        failed = document.getElementById('failed'),\n        content = document.getElementById('content');\n\n    function load(url, callback) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.onreadystatechange = function () {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    callback(JSON.parse(xhr.responseText));\n                } else {\n                    callback([{}]);\n                }\n            }\n        };\n        xhr.send();\n    }\n\n    function loadPage(id) {\n        index = 0;\n        matches = [];\n        if (!id) {\n            id = document.getElementById('id').value;\n        }\n        load('https://gdata.youtube.com/feeds/api/playlists/' + id + '?alt=jsonc&v=2&start-index=' + start + '&max-results=50', function (e) {\n            console.log('loadPage', e);\n            if (e.data) {\n                searchSpotify(e.data.items);\n            }\n        });\n    }\n\n    function searchSpotify(items) {\n        var name = items[index].video.title || [];\n        name = name.match(/[\\w']+/g)\n            .join(' ')\n            .replace(/official/ig, '')\n            .replace(/featuring/ig, '')\n            .replace(/feat/ig, '')\n            .replace(/video/ig, '')\n            .replace(/1080p/ig, '')\n            .replace(/music/ig, '');\n\n        load('http://ws.spotify.com/search/1/track.json?q=' + encodeURIComponent(name), function (e) {\n            if (e.tracks && e.tracks[0]) {\n                console.log('success', name, e);\n                // success\n                matches.push(e.tracks[0]);\n                success.innerHTML += name + '<br/>';\n                content.innerHTML += e.tracks[0].href + '<br/>';\n            } else {\n                console.log('failt', name, e);\n                // fail\n                failed.innerHTML += name + '<br/>';\n            }\n\n            if (index < items.length - 1) {\n                index += 1;\n                searchSpotify(items);\n            } else {\n                console.log(matches);\n                start += 50;\n                index = 0;\n                loadPage();\n            }\n        });\n    }\n\n\n\n    return (\n        <div class=\"jumbotron text-center\">\n            <h1>Convert Youtube to Spotify!</h1>\n            <form name=\"user-form\" method=\"get\" onSubmit=\"return validateSubmit()\" action=\"Convert.js\">\n                <label for=\"yt-url\"><b>Youtube URL</b></label>\n                <input type=\"text\" id=\"yt-url\" value=\"https://www.youtube.com/watch?v=EwdsnGfrd-k&list=PL7RVBKKO9UqyEr8kqLe9152SIktQjDl64\" />\n                <br/>\n                <input type=\"submit\" id=\"submit\" value=\"Load\" />\n            </form>\n            \n\n            <br />\n            <br />\n            <table>\n                <tr>\n                    <th>Plan Price</th>\n                    <th>Includes</th>\n                </tr>\n                <tr>\n                    <td>Free</td>\n                    <td>Up to 25 songs to convert per submission</td>\n                </tr>\n                <tr>\n                    <td>$5.99/month</td>\n                    <td>Unlimited songs to convert per submission</td>\n                </tr>\n            </table>\n\n        </div>\n    )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}